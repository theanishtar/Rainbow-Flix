<!DOCTYPE html>
<html lang="en">

<head>
	<title>Rainbow Flix - Đăng nhập</title>
	<meta property="og:title" content="rainbow-flix">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css'>
	<link rel="shortcut icon" href="../images/unicorn.png" type="image/x-icon">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

	<!-- icon -->
	<link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>

	<!-- <link rel="icon" type="image/png" href="../assets/login/images/icons/favicon.ico" /> -->
	<link rel="stylesheet" type="text/css" href="assets/login/vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="assets/login/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="assets/login/vendor/animate/animate.css">
	<link rel="stylesheet" type="text/css" href="assets/login/vendor/css-hamburgers/hamburgers.min.css">
	<link rel="stylesheet" type="text/css" href="assets/login/vendor/select2/select2.min.css">
	<link rel="stylesheet" type="text/css" href="assets/login/css/util.css">
	<link rel="stylesheet" type="text/css" href="assets/login/css/main.css">
	<link rel="stylesheet" href="css/index.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/footer.css">
	<link rel="stylesheet" href="css/login.css">
	<link rel="stylesheet" href="css/qna.css">
	<link rel="stylesheet" href="css/button/btn.css">
	<link rel="stylesheet" href="assets/css/responsive.css">
	<link rel="stylesheet" href="toast/style.css">
	<script src="toast/main.js"></script>
</head>

<body>
	<div class="top-container">
		<h1>Rainbow Flix</h1>
		<p>Chúng tôi yêu phim, như yêu vợ bạn!</p>
	</div>

	<div style="z-index: 999;" class="header" id="myHeader">
		<section class="ftco-section">
			<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
				<div class="container">
					<a class="navbar-brand" style="width: 50px;" href="#main"><img style="width: 100%;"
							src="images/unicorn.png" alt="" srcset=""></a>

					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
						aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
						<span class="fa fa-bars"></span> Menu
					</button>
					<div class="collapse navbar-collapse" id="ftco-nav">
						<ul class="navbar-nav m-auto">
							<li class="nav-item"><a href="#main" class="nav-link">Trang chủ</a></li>
							<!-- <li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle" href="#" id="dropdown04" data-toggle="dropdown"
									aria-haspopup="true" aria-expanded="false">Page</a>
								<div class="dropdown-menu" aria-labelledby="dropdown04">
									<a class="dropdown-item" href="">Page 1</a>
									<a class="dropdown-item" href="">Page 2</a>
									<a class="dropdown-item" href="">Page 3</a>
									<a class="dropdown-item" href="">Page 4</a>
								</div>
							</li> -->
							<li class="nav-item"><a href="#list" class="nav-link">Phim hay</a></li>

							<li class="nav-item "><a href="#qna" class="nav-link">Hỏi đáp</a></li>
							<li class="nav-item"><a href="#contact" class="nav-link">Liên hệ</a></li>
							<li class="nav-item"><a href="#about" class="nav-link">Về chúng tôi</a></li>
						</ul>

						<ul class="navbar-nav">
							<li class="nav-item active dropdown">
								<a class="nav-link dropdown-toggle" href="#login" id="dropdown04" data-toggle="dropdown"
									aria-haspopup="true" aria-expanded="false">Đăng nhập</a>
								<div class="dropdown-menu" aria-labelledby="dropdown04">
									<!-- <a class="dropdown-item" href="">Đăng nhập</a> -->
									<a class="dropdown-item" href="#register">Đăng ký</a>
									<a class="dropdown-item" href="#forgetpassword">Quên mật khẩu</a>
								</div>
							</li>
						</ul>
					</div>

				</div>
			</nav>
			<!-- END nav -->
		</section>
	</div>

	<div class="content">
		<div class="limiter">
			<div class="container-login100">
				<div class="wrap-login100">
					<div class="login100-pic js-tilt" data-tilt>
						<img src="assets/login/images/logo-3d.png" alt="IMG">
					</div>

					<form class="login100-form validate-form" id="loginForm">
						<span class="login100-form-title">
							ĐĂNG NHẬP
						</span>

						<div class="wrap-input100 validate-input" data-validate="Valid email is required: ex@abc.xyz">
							<input class="input100" type="text" name="email" placeholder="Email">
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i class="fa fa-envelope" aria-hidden="true"></i>
							</span>
						</div>

						<div class="wrap-input100 validate-input" data-validate="Password is required">
							<input class="input100" type="password" name="password" placeholder="Mật khẩu">
							<span class="focus-input100"></span>
							<span class="symbol-input100">
								<i class="fa fa-lock" aria-hidden="true"></i>
							</span>
						</div>

						<div class="container-login100-form-btn">
							<button class="login100-form-btn">
								Đăng nhập
							</button>
						</div>

						<div class="text-center p-t-12">
							<span class="txt1">
								Quên
							</span>
							<a class="txt2" href="#">
								mật khẩu?
							</a>
						</div>

						<div class="text-center p-t-136">
							<a class="txt2" href="#">
								Tạo tài khoản trên hệ thống Rainbow Flix
								<i class="fa fa-long-arrow-right m-l-5" aria-hidden="true"></i>
							</a>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<footer style="padding-bottom: 40px;">
		<div class="top">
			<ul>
				<li><a href="">FGHHV</a></li>
				<li><a href="">DFGH</a></li>
				<li><a href="">PC0123</a></li>
				<li><a href="">FPOLY</a></li>
				<li><a href="">CANTHO</a></li>
			</ul>
		</div>

		<div class="mid">
			<p>Rainbow Flix là một trang web phát trực tuyến Phim miễn phí không có quảng cáo. Chúng tôi cho phép bạn xem
				phim
				trực
				tuyến mà không cần phải đăng ký hoặc trả tiền, với hơn 10000 bộ phim và TV-Series. Bạn cũng có thể Tải xuống
				phim đầy đủ từ MoviesCloud và xem sau nếu muốn.</p>
		</div>

		<div class="bot">
			<i class='bx bx-copyright'></i> <span style="margin-left: 5px; letter-spacing: 1px;">FroggyDev@FPT
				Polytechnic</span>
		</div>

	</footer>





	<script src="assets/login/vendor/jquery/jquery-3.2.1.min.js"></script>
	<script src="assets/login/vendor/bootstrap/js/popper.js"></script>
	<script src="assets/login/vendor/bootstrap/js/bootstrap.min.js"></script>
	<script src="assets/login/vendor/select2/select2.min.js"></script>
	<script src="assets/login/vendor/tilt/tilt.jquery.min.js"></script>
	<script>
		$('.js-tilt').tilt({
			scale: 1.1
		})
	</script>

	<script src="assets/login/js/main.js"></script>

	<script>
		window.onscroll = function () { myFunction() };

		var header = document.getElementById("myHeader");
		var sticky = header.offsetTop;

		function myFunction() {
			if (window.pageYOffset > sticky) {
				header.classList.add("sticky");
			} else {
				header.classList.remove("sticky");
			}
		}

	</script>
	<script>
		$(document).ready(function () {
			function delay(ms) {
				return new Promise(function (resolve) {
					setTimeout(resolve, ms);
				})
			}
			$("#loginForm").submit(function (e) {
				e.preventDefault(); // Ngăn chuyển hướng mặc định của form

				var formData = {
					email: $("input[name='email']").val(),
					password: $("input[name='password']").val()
				};

				$.ajax({
					url: 'http://localhost:3000/login',
					method: 'POST',
					data: formData,
					dataType: 'json',
					success: function (response) {
						console.log(response)
						//Này là thông báo với data nữa cần lưu data thì lây xài
						// xuất thhong báo
						let lastname = response.fullname;
						alert('Chào ' + lastname);
						saveCookie('fullname', lastname.substring(lastname.lastIndexOf(" ")));
						localStorage.setItem('token', response.token);
						localStorage.setItem('refreshToken', response.refreshToken);
						//Cho 2s
						delay(2000).then(res => {
							// chuyển trang sau 2s
							window.location.href = "#/main";
						});
					},

					error: function (xhr, status, error) {
						// Xử lý lỗi
						console.error(error);
					}
				});
			});
		});
	</script>


	<script>
		// Lưu một cookie
		function setCookie(name, value, expires) {
			document.cookie = name + '=' + value + ';expires=' + expires.toUTCString() + ';path=/';
		}

		// Truy xuất giá trị của cookie
		function getCookie(name) {
			const cookies = document.cookie.split(';');
			for (let i = 0; i < cookies.length; i++) {
				const cookie = cookies[i].trim();
				if (cookie.startsWith(name + '=')) {
					return cookie.substring(name.length + 1);
				}
			}
			return null;
		}

		// Ví dụ sử dụng
		function saveCookie(name, val) {
			const expirationDate = new Date();
			expirationDate.setTime(expirationDate.getTime() + (1 * 60 * 60 * 1000)); // 1 giờ
			setCookie(name, val, expirationDate);
		}


	</script>
	<!-- 
	<script src="../js/jquery.min.js"></script>
	<script src="../js/popper.js"></script>
	<script src="../js/bootstrap.min.js"></script>
	<script src="../js/main.js"></script> -->
</body>

</html>